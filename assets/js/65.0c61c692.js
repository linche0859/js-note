(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{449:function(s,a,t){"use strict";t.r(a);var n=t(42),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"webpack-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webpack-config"}},[s._v("#")]),s._v(" Webpack Config")]),s._v(" "),t("p",[s._v("每次的編輯和儲存後，都需要再輸入 "),t("code",[s._v("webpack ./xx.js")]),s._v(" 重新編譯，這樣的動作我們可以藉由新增一個設定檔 "),t("code",[s._v("webpack.config.js")]),s._v("，讓每次只需要輸入 "),t("code",[s._v("webpack")]),s._v(" 不帶其他參數，Webpack 就會去讀取 "),t("code",[s._v("webpack.config.js")]),s._v(" 中的設定。")]),s._v(" "),t("h2",{attrs:{id:"設定-webpack-config-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#設定-webpack-config-js"}},[s._v("#")]),s._v(" 設定 "),t("code",[s._v("webpack.config.js")])]),s._v(" "),t("p",[s._v("首先在專案中建立 "),t("code",[s._v("webpack.config.js")]),s._v(" 檔案，並寫入下方的內容：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  entry"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./app.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    path"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dist'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    filename"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'main.js'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  watch"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"屬性的解釋"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#屬性的解釋"}},[s._v("#")]),s._v(" 屬性的解釋")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("module.exports")]),s._v(" - CommonJS 的模組化語法，意思是 "),t("code",[s._v("module.exports")]),s._v(" 這個物件所帶值")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("entry")]),s._v(" - 代表著編譯前檔案的檔名，這邊使用 "),t("code",[s._v("./app.js")]),s._v("，代表執行 "),t("code",[s._v("webpack")]),s._v(" 這個指令時，會用同個路徑底下的 "),t("code",[s._v("app.js")]),s._v(" 來進行編譯")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("output")]),s._v(" - 代表編譯後輸出的檔名，這裡 "),t("code",[s._v("webpack")]),s._v(" 分成 "),t("code",[s._v("path")]),s._v(" 和 "),t("code",[s._v("filename")]),s._v(" 兩個欄位做設定")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("path")]),s._v(" - 編譯結果的路徑，注意，這裡需要使用 "),t("strong",[s._v("絕對路徑")]),s._v("。在 Node.js 裡有個 "),t("code",[s._v("__dirname")]),s._v(" 變數可以取得絕對路徑，並用 "),t("code",[s._v("path.resolve()")]),s._v(" 來把相對路徑轉換成絕對路徑")]),s._v(" "),t("li",[t("code",[s._v("filename")]),s._v(" - 編譯結果的檔名")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("watch")]),s._v(" - 儲存時自動編譯")])])]),s._v(" "),t("h2",{attrs:{id:"使用-webpack-config-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-webpack-config-js"}},[s._v("#")]),s._v(" 使用 "),t("code",[s._v("webpack.config.js")])]),s._v(" "),t("p",[s._v("如果有多個 Webpack 設定檔，可以使用 "),t("code",[s._v("--config")]),s._v(" 後面接設定檔檔名。")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("$ webpack --config webpack.production.js\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h2",{attrs:{id:"minify-編譯結果"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#minify-編譯結果"}},[s._v("#")]),s._v(" minify 編譯結果")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("安裝 "),t("code",[s._v("cross-env")]),s._v("，並在 "),t("code",[s._v("package.json")]),s._v(" 的 "),t("code",[s._v("scripts")]),s._v(" 中加上：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cross-env NODE_ENV=development webpack --watch"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cross-env NODE_ENV=production webpack"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("webpack.config.js")]),s._v(" 中加入 "),t("code",[s._v("mode")]),s._v(" 屬性：")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("module"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  mode"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])])]),s._v(" "),t("p",[s._v("實際輸出的結果：")]),s._v(" "),t("p",[s._v("development")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("asset main.js "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" KiB "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("emitted"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name: main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nasset build_js.main.js "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.43")]),s._v(" KiB "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("emitted"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nruntime modules "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.58")]),s._v(" KiB "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" modules\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("production")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("asset main.js "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.56")]),s._v(" KiB "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("emitted"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("minimized"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name: main"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nasset "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v(".main.js "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("162")]),s._v(" bytes "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("emitted"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("minimized"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nruntime modules "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.58")]),s._v(" KiB "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" modules\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"參考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#參考"}},[s._v("#")]),s._v(" 參考")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://ithelp.ithome.com.tw/articles/10193343",target:"_blank",rel:"noopener noreferrer"}},[s._v("使用 webpack.config.js 來設定 webpack !"),t("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=e.exports}}]);