(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{455:function(s,t,a){"use strict";a.r(t);var n=a(45),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"webpack-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-config"}},[s._v("#")]),s._v(" Webpack Config")]),s._v(" "),a("p",[s._v("每次的編輯和儲存後，都需要再輸入 "),a("code",[s._v("webpack ./xx.js")]),s._v(" 重新編譯，這樣的動作我們可以藉由新增一個設定檔 "),a("code",[s._v("webpack.config.js")]),s._v("，讓每次只需要輸入 "),a("code",[s._v("webpack")]),s._v(" 不帶其他參數，Webpack 就會去讀取 "),a("code",[s._v("webpack.config.js")]),s._v(" 中的設定。")]),s._v(" "),a("h2",{attrs:{id:"設定-webpack-config-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#設定-webpack-config-js"}},[s._v("#")]),s._v(" 設定 "),a("code",[s._v("webpack.config.js")])]),s._v(" "),a("p",[s._v("首先在專案中建立 "),a("code",[s._v("webpack.config.js")]),s._v(" 檔案，並寫入下方的內容：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  context"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'src'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./app.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    path"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'main.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  watch"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("h3",{attrs:{id:"屬性的解釋"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#屬性的解釋"}},[s._v("#")]),s._v(" 屬性的解釋")]),s._v(" "),a("ul",[a("li",[a("p",[a("code",[s._v("module.exports")]),s._v(" - CommonJS 的模組化語法，意思是 "),a("code",[s._v("module.exports")]),s._v(" 這個物件所帶值")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("context")]),s._v(" - 會取得專案中 "),a("code",[s._v("src")]),s._v(" 資料夾的絕對路徑，讓讀取檔案的預設位置為 "),a("code",[s._v("src")]),s._v(" 資料夾")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("entry")]),s._v(" - 代表著編譯前檔案的檔名，這邊使用 "),a("code",[s._v("./app.js")]),s._v("，代表執行 "),a("code",[s._v("webpack")]),s._v(" 這個指令時，會用同個路徑底下的 "),a("code",[s._v("app.js")]),s._v(" 來進行編譯")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("output")]),s._v(" - 代表編譯後輸出的檔名，這裡 "),a("code",[s._v("webpack")]),s._v(" 分成 "),a("code",[s._v("path")]),s._v(" 和 "),a("code",[s._v("filename")]),s._v(" 兩個欄位做設定")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("path")]),s._v(" - 編譯結果的路徑，注意，這裡需要使用 "),a("strong",[s._v("絕對路徑")]),s._v("。在 Node.js 裡有個 "),a("code",[s._v("__dirname")]),s._v(" 變數可以取得絕對路徑，並用 "),a("code",[s._v("path.resolve()")]),s._v(" 來把相對路徑轉換成絕對路徑")]),s._v(" "),a("li",[a("code",[s._v("filename")]),s._v(" - 編譯結果的檔名")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("watch")]),s._v(" - 儲存時自動編譯")])])]),s._v(" "),a("h2",{attrs:{id:"使用特定的設定檔"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用特定的設定檔"}},[s._v("#")]),s._v(" 使用特定的設定檔")]),s._v(" "),a("p",[s._v("如果有多個 Webpack 設定檔，可以使用 "),a("code",[s._v("--config")]),s._v(" 後面接設定檔檔名。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ webpack --config webpack.production.js\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"依環境變數打包程式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#依環境變數打包程式"}},[s._v("#")]),s._v(" 依環境變數打包程式")]),s._v(" "),a("h3",{attrs:{id:"設定-mode-屬性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#設定-mode-屬性"}},[s._v("#")]),s._v(" 設定 "),a("code",[s._v("mode")]),s._v(" 屬性")]),s._v(" "),a("p",[s._v("直接於 "),a("code",[s._v("webpack.config.js")]),s._v(" 中設定 "),a("code",[s._v("mode")]),s._v(" 屬性：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'development'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"使用-mode-參數"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-mode-參數"}},[s._v("#")]),s._v(" 使用 "),a("code",[s._v("--mode")]),s._v(" 參數")]),s._v(" "),a("p",[s._v("在 "),a("code",[s._v("package.json")]),s._v(" 的 "),a("code",[s._v("scripts")]),s._v(" 中設定：")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"start"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack --mode development"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"webpack --mode production"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("h3",{attrs:{id:"使用-cross-env-套件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-cross-env-套件"}},[s._v("#")]),s._v(" 使用 "),a("code",[s._v("cross-env")]),s._v(" 套件")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("安裝 "),a("code",[s._v("cross-env")]),s._v("，並在 "),a("code",[s._v("package.json")]),s._v(" 的 "),a("code",[s._v("scripts")]),s._v(" 中加上：")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cross-env NODE_ENV=development webpack --watch"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cross-env NODE_ENV=production webpack"')]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("webpack.config.js")]),s._v(" 中加入 "),a("code",[s._v("mode")]),s._v(" 屬性：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("NODE_ENV")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])]),s._v(" "),a("p",[s._v("使用 "),a("code",[s._v("cross-env")]),s._v(" 套件的優點，可以在 Node.js 的環境中，透過 "),a("code",[s._v("process.env.NODE_ENV")]),s._v(" 取得環境變數。")]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("minify 編譯結果：")]),s._v(" "),a("p",[s._v("development")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("asset main.js "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" KiB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name: main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nasset build_js.main.js "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.43")]),s._v(" KiB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nruntime modules "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.58")]),s._v(" KiB "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" modules\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("production")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("asset main.js "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.56")]),s._v(" KiB "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("minimized"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name: main"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nasset "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("62")]),s._v(".main.js "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("162")]),s._v(" bytes "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("emitted"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("minimized"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nruntime modules "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.58")]),s._v(" KiB "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" modules\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"參考"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#參考"}},[s._v("#")]),s._v(" 參考")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://ithelp.ithome.com.tw/articles/10193343",target:"_blank",rel:"noopener noreferrer"}},[s._v("使用 webpack.config.js 來設定 webpack !"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=e.exports}}]);